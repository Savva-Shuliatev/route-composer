<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>DefaultRouter+Extension.swift - Slather</title>
<link href="slather.css" media="all" rel="stylesheet">
</head>
<body>
<header><div class="row"><a href="index.html"><img src="logo.jpg" alt="Slather logo"></a></div></header><div class="row"><div id="reports">
<h2 class="cov_title">
<span>Coverage for "DefaultRouter+Extension.swift" : </span><span class="cov_high">92.06%</span>
</h2>
<h4 class="cov_subtitle">(197 of 214 relevant lines covered)</h4>
<h4 class="cov_filepath">RouteComposer/Classes/Router/Internal/DefaultRouter+Extension.swift</h4>
<table class="source_code">
<tr class="never">
<td class="num">1</td>
<td class="src"><pre><code class="objc">//</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">2</td>
<td class="src"><pre><code class="objc">// RouteComposer</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">3</td>
<td class="src"><pre><code class="objc">// DefaultRouter+Extension.swift</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">4</td>
<td class="src"><pre><code class="objc">// https://github.com/ekazaev/route-composer</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">5</td>
<td class="src"><pre><code class="objc">//</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">6</td>
<td class="src"><pre><code class="objc">// Created by Eugene Kazaev in 2018-2022.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">7</td>
<td class="src"><pre><code class="objc">// Distributed under the MIT license.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">8</td>
<td class="src"><pre><code class="objc">//</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">9</td>
<td class="src"><pre><code class="objc">// Become a sponsor:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">10</td>
<td class="src"><pre><code class="objc">// https://github.com/sponsors/ekazaev</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">11</td>
<td class="src"><pre><code class="objc">//</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">12</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">13</td>
<td class="src"><pre><code class="objc">import Foundation</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">14</td>
<td class="src"><pre><code class="objc">import UIKit</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">15</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">16</td>
<td class="src"><pre><code class="objc">extension DefaultRouter {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">17</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">18</td>
<td class="src"><pre><code class="objc">    struct InterceptorRunner {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">19</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">20</td>
<td class="src"><pre><code class="objc">        private var interceptors: [(interceptor: AnyRoutingInterceptor, context: AnyContext)]</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">21</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">22</td>
<td class="src"><pre><code class="objc">        init(interceptors: [AnyRoutingInterceptor], with context: AnyContext) throws {</code></pre></td>
<td class="coverage">217x</td>
</tr>
<tr class="covered">
<td class="num">23</td>
<td class="src"><pre><code class="objc">            self.interceptors = try interceptors.map {</code></pre></td>
<td class="coverage">302x</td>
</tr>
<tr class="covered">
<td class="num">24</td>
<td class="src"><pre><code class="objc">                var interceptor = $0</code></pre></td>
<td class="coverage">302x</td>
</tr>
<tr class="covered">
<td class="num">25</td>
<td class="src"><pre><code class="objc">                try interceptor.prepare(with: context)</code></pre></td>
<td class="coverage">302x</td>
</tr>
<tr class="covered">
<td class="num">26</td>
<td class="src"><pre><code class="objc">                return (interceptor: interceptor, context: context)</code></pre></td>
<td class="coverage">302x</td>
</tr>
<tr class="covered">
<td class="num">27</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">302x</td>
</tr>
<tr class="covered">
<td class="num">28</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">217x</td>
</tr>
<tr class="never">
<td class="num">29</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">30</td>
<td class="src"><pre><code class="objc">        mutating func add(_ interceptor: AnyRoutingInterceptor, with context: AnyContext) throws {</code></pre></td>
<td class="coverage">27x</td>
</tr>
<tr class="covered">
<td class="num">31</td>
<td class="src"><pre><code class="objc">            var interceptor = interceptor</code></pre></td>
<td class="coverage">27x</td>
</tr>
<tr class="covered">
<td class="num">32</td>
<td class="src"><pre><code class="objc">            try interceptor.prepare(with: context)</code></pre></td>
<td class="coverage">27x</td>
</tr>
<tr class="covered">
<td class="num">33</td>
<td class="src"><pre><code class="objc">            interceptors.append((interceptor: interceptor, context: context))</code></pre></td>
<td class="coverage">27x</td>
</tr>
<tr class="covered">
<td class="num">34</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">27x</td>
</tr>
<tr class="never">
<td class="num">35</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">36</td>
<td class="src"><pre><code class="objc">        func perform(completion: @escaping (_: RoutingResult) -&gt; Void) {</code></pre></td>
<td class="coverage">205x</td>
</tr>
<tr class="covered">
<td class="num">37</td>
<td class="src"><pre><code class="objc">            guard !interceptors.isEmpty else {</code></pre></td>
<td class="coverage">205x</td>
</tr>
<tr class="covered">
<td class="num">38</td>
<td class="src"><pre><code class="objc">                completion(.success)</code></pre></td>
<td class="coverage">5x</td>
</tr>
<tr class="covered">
<td class="num">39</td>
<td class="src"><pre><code class="objc">                return</code></pre></td>
<td class="coverage">5x</td>
</tr>
<tr class="covered">
<td class="num">40</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">200x</td>
</tr>
<tr class="covered">
<td class="num">41</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">200x</td>
</tr>
<tr class="covered">
<td class="num">42</td>
<td class="src"><pre><code class="objc">            var interceptors = interceptors</code></pre></td>
<td class="coverage">200x</td>
</tr>
<tr class="covered">
<td class="num">43</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">200x</td>
</tr>
<tr class="covered">
<td class="num">44</td>
<td class="src"><pre><code class="objc">            func runInterceptor(interceptor: (interceptor: AnyRoutingInterceptor, context: AnyContext)) {</code></pre></td>
<td class="coverage">325x</td>
</tr>
<tr class="covered">
<td class="num">45</td>
<td class="src"><pre><code class="objc">                interceptor.interceptor.perform(with: interceptor.context) { result in</code></pre></td>
<td class="coverage">325x</td>
</tr>
<tr class="covered">
<td class="num">46</td>
<td class="src"><pre><code class="objc">                    if case .failure = result {</code></pre></td>
<td class="coverage">325x</td>
</tr>
<tr class="covered">
<td class="num">47</td>
<td class="src"><pre><code class="objc">                        completion(result)</code></pre></td>
<td class="coverage">1x</td>
</tr>
<tr class="covered">
<td class="num">48</td>
<td class="src"><pre><code class="objc">                    } else if interceptors.isEmpty {</code></pre></td>
<td class="coverage">325x</td>
</tr>
<tr class="covered">
<td class="num">49</td>
<td class="src"><pre><code class="objc">                        completion(result)</code></pre></td>
<td class="coverage">199x</td>
</tr>
<tr class="covered">
<td class="num">50</td>
<td class="src"><pre><code class="objc">                    } else {</code></pre></td>
<td class="coverage">325x</td>
</tr>
<tr class="covered">
<td class="num">51</td>
<td class="src"><pre><code class="objc">                        runInterceptor(interceptor: interceptors.removeFirst())</code></pre></td>
<td class="coverage">126x</td>
</tr>
<tr class="covered">
<td class="num">52</td>
<td class="src"><pre><code class="objc">                    }</code></pre></td>
<td class="coverage">325x</td>
</tr>
<tr class="covered">
<td class="num">53</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">325x</td>
</tr>
<tr class="covered">
<td class="num">54</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">325x</td>
</tr>
<tr class="covered">
<td class="num">55</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">200x</td>
</tr>
<tr class="covered">
<td class="num">56</td>
<td class="src"><pre><code class="objc">            runInterceptor(interceptor: interceptors.removeFirst())</code></pre></td>
<td class="coverage">200x</td>
</tr>
<tr class="covered">
<td class="num">57</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">200x</td>
</tr>
<tr class="never">
<td class="num">58</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">59</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">60</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">61</td>
<td class="src"><pre><code class="objc">    struct ContextTaskRunner {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">62</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">63</td>
<td class="src"><pre><code class="objc">        var contextTasks: [AnyContextTask]</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">64</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">65</td>
<td class="src"><pre><code class="objc">        init(contextTasks: [AnyContextTask], with context: AnyContext) throws {</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="covered">
<td class="num">66</td>
<td class="src"><pre><code class="objc">            self.contextTasks = try contextTasks.map {</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="covered">
<td class="num">67</td>
<td class="src"><pre><code class="objc">                var contextTask = $0</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">68</td>
<td class="src"><pre><code class="objc">                try contextTask.prepare(with: context)</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">69</td>
<td class="src"><pre><code class="objc">                return contextTask</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">70</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">71</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="never">
<td class="num">72</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">73</td>
<td class="src"><pre><code class="objc">        mutating func add(_ contextTask: AnyContextTask, with context: AnyContext) throws {</code></pre></td>
<td class="coverage">106x</td>
</tr>
<tr class="covered">
<td class="num">74</td>
<td class="src"><pre><code class="objc">            var contextTask = contextTask</code></pre></td>
<td class="coverage">106x</td>
</tr>
<tr class="covered">
<td class="num">75</td>
<td class="src"><pre><code class="objc">            try contextTask.prepare(with: context)</code></pre></td>
<td class="coverage">106x</td>
</tr>
<tr class="covered">
<td class="num">76</td>
<td class="src"><pre><code class="objc">            contextTasks.append(contextTask)</code></pre></td>
<td class="coverage">106x</td>
</tr>
<tr class="covered">
<td class="num">77</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">106x</td>
</tr>
<tr class="never">
<td class="num">78</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">79</td>
<td class="src"><pre><code class="objc">        func perform(on viewController: UIViewController, with context: AnyContext) throws {</code></pre></td>
<td class="coverage">236x</td>
</tr>
<tr class="covered">
<td class="num">80</td>
<td class="src"><pre><code class="objc">            try contextTasks.forEach {</code></pre></td>
<td class="coverage">236x</td>
</tr>
<tr class="covered">
<td class="num">81</td>
<td class="src"><pre><code class="objc">                try $0.perform(on: viewController, with: context)</code></pre></td>
<td class="coverage">107x</td>
</tr>
<tr class="covered">
<td class="num">82</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">107x</td>
</tr>
<tr class="covered">
<td class="num">83</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">236x</td>
</tr>
<tr class="never">
<td class="num">84</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">85</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">86</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">87</td>
<td class="src"><pre><code class="objc">    struct PostTaskRunner {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">88</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">89</td>
<td class="src"><pre><code class="objc">        var postTasks: [AnyPostRoutingTask]</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">90</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">91</td>
<td class="src"><pre><code class="objc">        let postponedRunner: PostponedTaskRunner</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">92</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">93</td>
<td class="src"><pre><code class="objc">        init(postTasks: [AnyPostRoutingTask], postponedRunner: PostponedTaskRunner) {</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="covered">
<td class="num">94</td>
<td class="src"><pre><code class="objc">            self.postTasks = postTasks</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="covered">
<td class="num">95</td>
<td class="src"><pre><code class="objc">            self.postponedRunner = postponedRunner</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="covered">
<td class="num">96</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="never">
<td class="num">97</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">98</td>
<td class="src"><pre><code class="objc">        mutating func add(_ postTask: AnyPostRoutingTask) throws {</code></pre></td>
<td class="coverage">13x</td>
</tr>
<tr class="covered">
<td class="num">99</td>
<td class="src"><pre><code class="objc">            postTasks.append(postTask)</code></pre></td>
<td class="coverage">13x</td>
</tr>
<tr class="covered">
<td class="num">100</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">13x</td>
</tr>
<tr class="never">
<td class="num">101</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">102</td>
<td class="src"><pre><code class="objc">        func perform(on viewController: UIViewController, with context: AnyContext) throws {</code></pre></td>
<td class="coverage">236x</td>
</tr>
<tr class="covered">
<td class="num">103</td>
<td class="src"><pre><code class="objc">            postponedRunner.add(postTasks: postTasks, to: viewController, context: context)</code></pre></td>
<td class="coverage">236x</td>
</tr>
<tr class="covered">
<td class="num">104</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">236x</td>
</tr>
<tr class="never">
<td class="num">105</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">106</td>
<td class="src"><pre><code class="objc">        func commit() throws {</code></pre></td>
<td class="coverage">101x</td>
</tr>
<tr class="covered">
<td class="num">107</td>
<td class="src"><pre><code class="objc">            try postponedRunner.perform()</code></pre></td>
<td class="coverage">101x</td>
</tr>
<tr class="covered">
<td class="num">108</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">101x</td>
</tr>
<tr class="never">
<td class="num">109</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">110</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">111</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">112</td>
<td class="src"><pre><code class="objc">    struct StepTaskTaskRunner {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">113</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">114</td>
<td class="src"><pre><code class="objc">        private let contextTaskRunner: ContextTaskRunner</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">115</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">116</td>
<td class="src"><pre><code class="objc">        private let postTaskRunner: PostTaskRunner</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">117</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">118</td>
<td class="src"><pre><code class="objc">        private let context: AnyContext</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">119</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">120</td>
<td class="src"><pre><code class="objc">        init(contextTaskRunner: ContextTaskRunner, postTaskRunner: PostTaskRunner, context: AnyContext) {</code></pre></td>
<td class="coverage">269x</td>
</tr>
<tr class="covered">
<td class="num">121</td>
<td class="src"><pre><code class="objc">            self.contextTaskRunner = contextTaskRunner</code></pre></td>
<td class="coverage">269x</td>
</tr>
<tr class="covered">
<td class="num">122</td>
<td class="src"><pre><code class="objc">            self.postTaskRunner = postTaskRunner</code></pre></td>
<td class="coverage">269x</td>
</tr>
<tr class="covered">
<td class="num">123</td>
<td class="src"><pre><code class="objc">            self.context = context</code></pre></td>
<td class="coverage">269x</td>
</tr>
<tr class="covered">
<td class="num">124</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">269x</td>
</tr>
<tr class="never">
<td class="num">125</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">126</td>
<td class="src"><pre><code class="objc">        func perform(on viewController: UIViewController) throws {</code></pre></td>
<td class="coverage">236x</td>
</tr>
<tr class="covered">
<td class="num">127</td>
<td class="src"><pre><code class="objc">            try contextTaskRunner.perform(on: viewController, with: context)</code></pre></td>
<td class="coverage">236x</td>
</tr>
<tr class="covered">
<td class="num">128</td>
<td class="src"><pre><code class="objc">            try postTaskRunner.perform(on: viewController, with: context)</code></pre></td>
<td class="coverage">236x</td>
</tr>
<tr class="covered">
<td class="num">129</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">236x</td>
</tr>
<tr class="never">
<td class="num">130</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">131</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">132</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">133</td>
<td class="src"><pre><code class="objc">    final class PostponedTaskRunner {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">134</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">135</td>
<td class="src"><pre><code class="objc">        private struct PostTaskSlip {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">136</td>
<td class="src"><pre><code class="objc">            // This reference is weak because even though this view controller was created by a fabric but then some other</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">137</td>
<td class="src"><pre><code class="objc">            // view controller in the chain can have an action that will actually remove this view controller from the</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">138</td>
<td class="src"><pre><code class="objc">            // stack. We do not want to keep a strong reference to it and prevent it from deallocation. Potentially it's</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">139</td>
<td class="src"><pre><code class="objc">            // a very rare issue but must be kept in mind.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">140</td>
<td class="src"><pre><code class="objc">            weak var viewController: UIViewController?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">141</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">142</td>
<td class="src"><pre><code class="objc">            let postTask: AnyPostRoutingTask</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">143</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">144</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">145</td>
<td class="src"><pre><code class="objc">        // this class is just a placeholder. Router needs at least one post routing task per view controller to</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">146</td>
<td class="src"><pre><code class="objc">        // store a reference there.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">147</td>
<td class="src"><pre><code class="objc">        private struct EmptyPostTask: AnyPostRoutingTask {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">148</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">149</td>
<td class="src"><pre><code class="objc">            func perform(on viewController: UIViewController, with context: AnyContext, routingStack: [UIViewController]) {}</code></pre></td>
<td class="coverage">210x</td>
</tr>
<tr class="never">
<td class="num">150</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">151</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">152</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">153</td>
<td class="src"><pre><code class="objc">        private final var taskSlips: [(postTaskSlip: PostTaskSlip, context: AnyContext)] = []</code></pre></td>
<td class="coverage">118x</td>
</tr>
<tr class="never">
<td class="num">154</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">155</td>
<td class="src"><pre><code class="objc">        final func add(postTasks: [AnyPostRoutingTask], to viewController: UIViewController, context: AnyContext) {</code></pre></td>
<td class="coverage">238x</td>
</tr>
<tr class="covered">
<td class="num">156</td>
<td class="src"><pre><code class="objc">            guard !postTasks.isEmpty else {</code></pre></td>
<td class="coverage">238x</td>
</tr>
<tr class="covered">
<td class="num">157</td>
<td class="src"><pre><code class="objc">                let postTaskSlip = PostTaskSlip(viewController: viewController, postTask: EmptyPostTask())</code></pre></td>
<td class="coverage">219x</td>
</tr>
<tr class="covered">
<td class="num">158</td>
<td class="src"><pre><code class="objc">                taskSlips.append((postTaskSlip: postTaskSlip, context: context))</code></pre></td>
<td class="coverage">219x</td>
</tr>
<tr class="covered">
<td class="num">159</td>
<td class="src"><pre><code class="objc">                return</code></pre></td>
<td class="coverage">219x</td>
</tr>
<tr class="covered">
<td class="num">160</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">219x</td>
</tr>
<tr class="covered">
<td class="num">161</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">162</td>
<td class="src"><pre><code class="objc">            postTasks.forEach {</code></pre></td>
<td class="coverage">21x</td>
</tr>
<tr class="covered">
<td class="num">163</td>
<td class="src"><pre><code class="objc">                let postTaskSlip = PostTaskSlip(viewController: viewController, postTask: $0)</code></pre></td>
<td class="coverage">21x</td>
</tr>
<tr class="covered">
<td class="num">164</td>
<td class="src"><pre><code class="objc">                taskSlips.append((postTaskSlip: postTaskSlip, context: context))</code></pre></td>
<td class="coverage">21x</td>
</tr>
<tr class="covered">
<td class="num">165</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">21x</td>
</tr>
<tr class="covered">
<td class="num">166</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="never">
<td class="num">167</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">168</td>
<td class="src"><pre><code class="objc">        final func perform() throws {</code></pre></td>
<td class="coverage">103x</td>
</tr>
<tr class="covered">
<td class="num">169</td>
<td class="src"><pre><code class="objc">            var viewControllers: [UIViewController] = []</code></pre></td>
<td class="coverage">103x</td>
</tr>
<tr class="covered">
<td class="num">170</td>
<td class="src"><pre><code class="objc">            taskSlips.forEach {</code></pre></td>
<td class="coverage">232x</td>
</tr>
<tr class="covered">
<td class="num">171</td>
<td class="src"><pre><code class="objc">                guard let viewController = $0.postTaskSlip.viewController, !viewControllers.contains(viewController) else {</code></pre></td>
<td class="coverage">232x</td>
</tr>
<tr class="covered">
<td class="num">172</td>
<td class="src"><pre><code class="objc">                    return</code></pre></td>
<td class="coverage">7x</td>
</tr>
<tr class="covered">
<td class="num">173</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">225x</td>
</tr>
<tr class="covered">
<td class="num">174</td>
<td class="src"><pre><code class="objc">                viewControllers.append(viewController)</code></pre></td>
<td class="coverage">225x</td>
</tr>
<tr class="covered">
<td class="num">175</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">225x</td>
</tr>
<tr class="covered">
<td class="num">176</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">103x</td>
</tr>
<tr class="covered">
<td class="num">177</td>
<td class="src"><pre><code class="objc">            try taskSlips.forEach { slip in</code></pre></td>
<td class="coverage">232x</td>
</tr>
<tr class="covered">
<td class="num">178</td>
<td class="src"><pre><code class="objc">                guard let viewController = slip.postTaskSlip.viewController else {</code></pre></td>
<td class="coverage">232x</td>
</tr>
<tr class="missed">
<td class="num">179</td>
<td class="src"><pre><code class="objc">                    return</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">180</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">232x</td>
</tr>
<tr class="covered">
<td class="num">181</td>
<td class="src"><pre><code class="objc">                try slip.postTaskSlip.postTask.perform(on: viewController, with: slip.context, routingStack: viewControllers)</code></pre></td>
<td class="coverage">232x</td>
</tr>
<tr class="covered">
<td class="num">182</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">232x</td>
</tr>
<tr class="covered">
<td class="num">183</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">103x</td>
</tr>
<tr class="never">
<td class="num">184</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">185</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">186</td>
<td class="src"><pre><code class="objc">    final class GlobalTaskRunner {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">187</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">188</td>
<td class="src"><pre><code class="objc">        private final var interceptorRunner: InterceptorRunner</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">189</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">190</td>
<td class="src"><pre><code class="objc">        private final let contextTaskRunner: ContextTaskRunner</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">191</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">192</td>
<td class="src"><pre><code class="objc">        private final let postTaskRunner: PostTaskRunner</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">193</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">194</td>
<td class="src"><pre><code class="objc">        init(interceptorRunner: InterceptorRunner, contextTaskRunner: ContextTaskRunner, postTaskRunner: PostTaskRunner) {</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="covered">
<td class="num">195</td>
<td class="src"><pre><code class="objc">            self.interceptorRunner = interceptorRunner</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="covered">
<td class="num">196</td>
<td class="src"><pre><code class="objc">            self.contextTaskRunner = contextTaskRunner</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="covered">
<td class="num">197</td>
<td class="src"><pre><code class="objc">            self.postTaskRunner = postTaskRunner</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="covered">
<td class="num">198</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">117x</td>
</tr>
<tr class="never">
<td class="num">199</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">200</td>
<td class="src"><pre><code class="objc">        final func taskRunner(for step: PerformableStep?, with context: AnyContext) throws -&gt; StepTaskTaskRunner {</code></pre></td>
<td class="coverage">270x</td>
</tr>
<tr class="covered">
<td class="num">201</td>
<td class="src"><pre><code class="objc">            guard let interceptableStep = step as? InterceptableStep else {</code></pre></td>
<td class="coverage">270x</td>
</tr>
<tr class="covered">
<td class="num">202</td>
<td class="src"><pre><code class="objc">                return StepTaskTaskRunner(contextTaskRunner: self.contextTaskRunner, postTaskRunner: self.postTaskRunner, context: context)</code></pre></td>
<td class="coverage">76x</td>
</tr>
<tr class="covered">
<td class="num">203</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">194x</td>
</tr>
<tr class="covered">
<td class="num">204</td>
<td class="src"><pre><code class="objc">            var contextTaskRunner = contextTaskRunner</code></pre></td>
<td class="coverage">194x</td>
</tr>
<tr class="covered">
<td class="num">205</td>
<td class="src"><pre><code class="objc">            var postTaskRunner = postTaskRunner</code></pre></td>
<td class="coverage">194x</td>
</tr>
<tr class="covered">
<td class="num">206</td>
<td class="src"><pre><code class="objc">            if let interceptor = interceptableStep.interceptor {</code></pre></td>
<td class="coverage">194x</td>
</tr>
<tr class="covered">
<td class="num">207</td>
<td class="src"><pre><code class="objc">                try interceptorRunner.add(interceptor, with: context)</code></pre></td>
<td class="coverage">27x</td>
</tr>
<tr class="covered">
<td class="num">208</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">194x</td>
</tr>
<tr class="covered">
<td class="num">209</td>
<td class="src"><pre><code class="objc">            if let contextTask = interceptableStep.contextTask {</code></pre></td>
<td class="coverage">194x</td>
</tr>
<tr class="covered">
<td class="num">210</td>
<td class="src"><pre><code class="objc">                try contextTaskRunner.add(contextTask, with: context)</code></pre></td>
<td class="coverage">106x</td>
</tr>
<tr class="covered">
<td class="num">211</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">194x</td>
</tr>
<tr class="covered">
<td class="num">212</td>
<td class="src"><pre><code class="objc">            if let postTask = interceptableStep.postTask {</code></pre></td>
<td class="coverage">194x</td>
</tr>
<tr class="covered">
<td class="num">213</td>
<td class="src"><pre><code class="objc">                try postTaskRunner.add(postTask)</code></pre></td>
<td class="coverage">13x</td>
</tr>
<tr class="covered">
<td class="num">214</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">194x</td>
</tr>
<tr class="covered">
<td class="num">215</td>
<td class="src"><pre><code class="objc">            return StepTaskTaskRunner(contextTaskRunner: contextTaskRunner, postTaskRunner: postTaskRunner, context: context)</code></pre></td>
<td class="coverage">194x</td>
</tr>
<tr class="covered">
<td class="num">216</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">194x</td>
</tr>
<tr class="never">
<td class="num">217</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">218</td>
<td class="src"><pre><code class="objc">        final func performInterceptors(completion: @escaping (_: RoutingResult) -&gt; Void) {</code></pre></td>
<td class="coverage">105x</td>
</tr>
<tr class="covered">
<td class="num">219</td>
<td class="src"><pre><code class="objc">            interceptorRunner.perform(completion: completion)</code></pre></td>
<td class="coverage">105x</td>
</tr>
<tr class="covered">
<td class="num">220</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">105x</td>
</tr>
<tr class="never">
<td class="num">221</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">222</td>
<td class="src"><pre><code class="objc">        final func performPostTasks() throws {</code></pre></td>
<td class="coverage">101x</td>
</tr>
<tr class="covered">
<td class="num">223</td>
<td class="src"><pre><code class="objc">            try postTaskRunner.commit()</code></pre></td>
<td class="coverage">101x</td>
</tr>
<tr class="covered">
<td class="num">224</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">101x</td>
</tr>
<tr class="never">
<td class="num">225</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">226</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">227</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">228</td>
<td class="src"><pre><code class="objc">    /// Each post action needs to know a view controller is should be applied to.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">229</td>
<td class="src"><pre><code class="objc">    /// This decorator adds functionality of storing `UIViewController`s created by the `Factory` and frees</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">230</td>
<td class="src"><pre><code class="objc">    /// custom factories implementations from dealing with it. Mostly it is important for ContainerFactories</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">231</td>
<td class="src"><pre><code class="objc">    /// which create merged view controllers without `Router`'s help.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">232</td>
<td class="src"><pre><code class="objc">    struct FactoryDecorator: AnyFactory, CustomStringConvertible {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">233</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">234</td>
<td class="src"><pre><code class="objc">        private var factory: AnyFactory</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">235</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">236</td>
<td class="src"><pre><code class="objc">        private let stepTaskRunner: StepTaskTaskRunner</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">237</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">238</td>
<td class="src"><pre><code class="objc">        let action: AnyAction</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">239</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">240</td>
<td class="src"><pre><code class="objc">        init(factory: AnyFactory, stepTaskRunner: StepTaskTaskRunner) {</code></pre></td>
<td class="coverage">134x</td>
</tr>
<tr class="covered">
<td class="num">241</td>
<td class="src"><pre><code class="objc">            self.factory = factory</code></pre></td>
<td class="coverage">134x</td>
</tr>
<tr class="covered">
<td class="num">242</td>
<td class="src"><pre><code class="objc">            self.action = factory.action</code></pre></td>
<td class="coverage">134x</td>
</tr>
<tr class="covered">
<td class="num">243</td>
<td class="src"><pre><code class="objc">            self.stepTaskRunner = stepTaskRunner</code></pre></td>
<td class="coverage">134x</td>
</tr>
<tr class="covered">
<td class="num">244</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">134x</td>
</tr>
<tr class="never">
<td class="num">245</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">246</td>
<td class="src"><pre><code class="objc">        mutating func prepare(with context: AnyContext) throws {</code></pre></td>
<td class="coverage">134x</td>
</tr>
<tr class="covered">
<td class="num">247</td>
<td class="src"><pre><code class="objc">            try factory.prepare(with: context)</code></pre></td>
<td class="coverage">134x</td>
</tr>
<tr class="covered">
<td class="num">248</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">134x</td>
</tr>
<tr class="never">
<td class="num">249</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">250</td>
<td class="src"><pre><code class="objc">        func build(with context: AnyContext) throws -&gt; UIViewController {</code></pre></td>
<td class="coverage">128x</td>
</tr>
<tr class="covered">
<td class="num">251</td>
<td class="src"><pre><code class="objc">            let viewController = try factory.build(with: context)</code></pre></td>
<td class="coverage">128x</td>
</tr>
<tr class="covered">
<td class="num">252</td>
<td class="src"><pre><code class="objc">            try stepTaskRunner.perform(on: viewController)</code></pre></td>
<td class="coverage">128x</td>
</tr>
<tr class="covered">
<td class="num">253</td>
<td class="src"><pre><code class="objc">            return viewController</code></pre></td>
<td class="coverage">128x</td>
</tr>
<tr class="covered">
<td class="num">254</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">128x</td>
</tr>
<tr class="never">
<td class="num">255</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">256</td>
<td class="src"><pre><code class="objc">        mutating func scrapeChildren(from factories: [(factory: AnyFactory, context: AnyContext)]) throws -&gt; [(factory: AnyFactory, context: AnyContext)] {</code></pre></td>
<td class="coverage">134x</td>
</tr>
<tr class="covered">
<td class="num">257</td>
<td class="src"><pre><code class="objc">            try factory.scrapeChildren(from: factories)</code></pre></td>
<td class="coverage">134x</td>
</tr>
<tr class="covered">
<td class="num">258</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">134x</td>
</tr>
<tr class="never">
<td class="num">259</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">260</td>
<td class="src"><pre><code class="objc">        var description: String {</code></pre></td>
<td class="coverage">96x</td>
</tr>
<tr class="covered">
<td class="num">261</td>
<td class="src"><pre><code class="objc">            String(describing: factory)</code></pre></td>
<td class="coverage">96x</td>
</tr>
<tr class="covered">
<td class="num">262</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">96x</td>
</tr>
<tr class="never">
<td class="num">263</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">264</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">265</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">266</td>
<td class="src"><pre><code class="objc">    final class DefaultPostponedIntegrationHandler: PostponedActionIntegrationHandler, MainThreadChecking {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">267</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">268</td>
<td class="src"><pre><code class="objc">        private(set) final var containerViewController: ContainerViewController?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">269</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">270</td>
<td class="src"><pre><code class="objc">        private(set) final var postponedViewControllers: [UIViewController] = []</code></pre></td>
<td class="coverage">105x</td>
</tr>
<tr class="never">
<td class="num">271</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">272</td>
<td class="src"><pre><code class="objc">        final let logger: Logger?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">273</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">274</td>
<td class="src"><pre><code class="objc">        final let containerAdapterLocator: ContainerAdapterLocator</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">275</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">276</td>
<td class="src"><pre><code class="objc">        init(logger: Logger?, containerAdapterLocator: ContainerAdapterLocator) {</code></pre></td>
<td class="coverage">105x</td>
</tr>
<tr class="covered">
<td class="num">277</td>
<td class="src"><pre><code class="objc">            self.logger = logger</code></pre></td>
<td class="coverage">105x</td>
</tr>
<tr class="covered">
<td class="num">278</td>
<td class="src"><pre><code class="objc">            self.containerAdapterLocator = containerAdapterLocator</code></pre></td>
<td class="coverage">105x</td>
</tr>
<tr class="covered">
<td class="num">279</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">105x</td>
</tr>
<tr class="never">
<td class="num">280</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">281</td>
<td class="src"><pre><code class="objc">        final func update(containerViewController: ContainerViewController, animated: Bool, completion: @escaping (_: RoutingResult) -&gt; Void) {</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">282</td>
<td class="src"><pre><code class="objc">            do {</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">283</td>
<td class="src"><pre><code class="objc">                guard self.containerViewController == nil else {</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="missed">
<td class="num">284</td>
<td class="src"><pre><code class="objc">                    purge(animated: animated, completion: { result in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">285</td>
<td class="src"><pre><code class="objc">                        self.assertIfNotMainThread()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">286</td>
<td class="src"><pre><code class="objc">                        guard result.isSuccessful else {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">287</td>
<td class="src"><pre><code class="objc">                            completion(result)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">288</td>
<td class="src"><pre><code class="objc">                            return</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">289</td>
<td class="src"><pre><code class="objc">                        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">290</td>
<td class="src"><pre><code class="objc">                        self.update(containerViewController: containerViewController, animated: animated, completion: completion)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">291</td>
<td class="src"><pre><code class="objc">                    })</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">292</td>
<td class="src"><pre><code class="objc">                    return</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">293</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">294</td>
<td class="src"><pre><code class="objc">                self.containerViewController = containerViewController</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">295</td>
<td class="src"><pre><code class="objc">                postponedViewControllers = try containerAdapterLocator.getAdapter(for: containerViewController).containedViewControllers</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">296</td>
<td class="src"><pre><code class="objc">                logger?.log(.info("Container \(String(describing: containerViewController)) will be used for the postponed integration."))</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">297</td>
<td class="src"><pre><code class="objc">                completion(.success)</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">298</td>
<td class="src"><pre><code class="objc">            } catch {</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="missed">
<td class="num">299</td>
<td class="src"><pre><code class="objc">                completion(.failure(error))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">300</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">301</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="never">
<td class="num">302</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">303</td>
<td class="src"><pre><code class="objc">        final func update(postponedViewControllers: [UIViewController]) {</code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="covered">
<td class="num">304</td>
<td class="src"><pre><code class="objc">            self.postponedViewControllers = postponedViewControllers</code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="covered">
<td class="num">305</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="never">
<td class="num">306</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">307</td>
<td class="src"><pre><code class="objc">        final func purge(animated: Bool, completion: @escaping (_: RoutingResult) -&gt; Void) {</code></pre></td>
<td class="coverage">198x</td>
</tr>
<tr class="covered">
<td class="num">308</td>
<td class="src"><pre><code class="objc">            do {</code></pre></td>
<td class="coverage">198x</td>
</tr>
<tr class="covered">
<td class="num">309</td>
<td class="src"><pre><code class="objc">                guard let containerViewController = containerViewController else {</code></pre></td>
<td class="coverage">198x</td>
</tr>
<tr class="covered">
<td class="num">310</td>
<td class="src"><pre><code class="objc">                    completion(.success)</code></pre></td>
<td class="coverage">196x</td>
</tr>
<tr class="covered">
<td class="num">311</td>
<td class="src"><pre><code class="objc">                    return</code></pre></td>
<td class="coverage">196x</td>
</tr>
<tr class="covered">
<td class="num">312</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">196x</td>
</tr>
<tr class="covered">
<td class="num">313</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">314</td>
<td class="src"><pre><code class="objc">                let containerAdapter = try containerAdapterLocator.getAdapter(for: containerViewController)</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">315</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">316</td>
<td class="src"><pre><code class="objc">                guard !postponedViewControllers.isEqual(to: containerAdapter.containedViewControllers) else {</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="missed">
<td class="num">317</td>
<td class="src"><pre><code class="objc">                    reset()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">318</td>
<td class="src"><pre><code class="objc">                    completion(.success)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">319</td>
<td class="src"><pre><code class="objc">                    return</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">320</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">321</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">322</td>
<td class="src"><pre><code class="objc">                containerAdapter.setContainedViewControllers(postponedViewControllers,</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">323</td>
<td class="src"><pre><code class="objc">                                                             animated: animated,</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">324</td>
<td class="src"><pre><code class="objc">                                                             completion: { result in</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">325</td>
<td class="src"><pre><code class="objc">                                                                 guard result.isSuccessful else {</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="missed">
<td class="num">326</td>
<td class="src"><pre><code class="objc">                                                                     completion(result)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">327</td>
<td class="src"><pre><code class="objc">                                                                     return</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">328</td>
<td class="src"><pre><code class="objc">                                                                 }</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">329</td>
<td class="src"><pre><code class="objc">                                                                 self.logger?.log(.info("View controllers \(String(describing: self.postponedViewControllers)) were simultaneously "</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">330</td>
<td class="src"><pre><code class="objc">                                                                         + "integrated into \(String(describing: containerViewController))"))</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">331</td>
<td class="src"><pre><code class="objc">                                                                 self.reset()</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">332</td>
<td class="src"><pre><code class="objc">                                                                 completion(.success)</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">333</td>
<td class="src"><pre><code class="objc">                                                             })</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">334</td>
<td class="src"><pre><code class="objc">            } catch {</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="missed">
<td class="num">335</td>
<td class="src"><pre><code class="objc">                completion(.failure(error))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">336</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">337</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="never">
<td class="num">338</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">339</td>
<td class="src"><pre><code class="objc">        private final func reset() {</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">340</td>
<td class="src"><pre><code class="objc">            containerViewController = nil</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">341</td>
<td class="src"><pre><code class="objc">            postponedViewControllers = []</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="covered">
<td class="num">342</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="never">
<td class="num">343</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">344</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">345</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">346</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
</table>
</div></div>
<footer><div class="row">
<p><a href="https://github.com/SlatherOrg/slather">Fork me on Github</a></p>
<p>&copy; 2022 Slather</p>
</div></footer><script src="highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
